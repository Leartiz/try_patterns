# Active Record ðŸ§©

## Abstract

ÐšÐ°Ð¶Ð´Ð°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ð·Ð°Ð¿Ð¸ÑÑŒ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð·Ð° ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð² Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð·Ð° *Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð´Ð¾Ð¼ÐµÐ½Ð°*, Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÐ¼ÑƒÑŽ Ðº Ð´Ð°Ð½Ð½Ñ‹Ð¼.

> Ð”Ð¾Ð¼ÐµÐ½ â€” ÑÑ‚Ð¾ Ð¼Ð¸Ñ€, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð¶Ð¸Ð²ÐµÑ‚ Ð²Ð°ÑˆÐµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ.

Ð•ÑÐ»Ð¸ Ð¾Ñ‡ÐµÐ½ÑŒ ÑƒÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ð¾, ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ñ‚Ð°Ð±Ð»Ð¸Ñ‡ÐºÐµ Ð² Ð‘Ð” ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ ÐºÐ»Ð°ÑÑ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸ Ð²Ð¼ÐµÑÑ‚Ðµ Ñ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸ÐµÐ¼.

Ð’ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑÑ… Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð½Ð¾Ð¹ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð¾Ñ‚Ð½ÑŽÐ´ÑŒ Ð½Ðµ ÑÐ»Ð¾Ð¶Ð½ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ *Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð¿Ð¾ Ð¾Ð´Ð½Ð¾Ð¼Ñƒ ÐºÐ»Ð°ÑÑÑƒ Ð´Ð¾Ð¼ÐµÐ½Ð° Ð² Ñ€Ð°ÑÑ‡ÐµÑ‚Ðµ Ð½Ð° ÐºÐ°Ð¶Ð´ÑƒÑŽ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…*. ÐžÐ±ÑŠÐµÐºÑ‚Ñ‹ Ñ‚Ð°ÐºÐ¸Ñ… ÐºÐ»Ð°ÑÑÐ¾Ð² Ñ‡Ð°ÑÑ‚Ð¾ ÑÐ½Ð°Ð±Ð¶ÐµÐ½Ñ‹ ÑƒÐ¼ÐµÑ€ÐµÐ½Ð½Ð¾ ÑÐ»Ð¾Ð¶Ð½Ð¾Ð¹ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ¾Ð¹. Ð’ ÑÑ‚Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð¸Ð¼ÐµÐµÑ‚ ÑÐ¼Ñ‹ÑÐ» Ð²Ð¾Ð·Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ Ð½Ð° ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð¸Ð· Ð½Ð¸Ñ… Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ð·Ð° Ð²Ð²Ð¾Ð´-Ð²Ñ‹Ð²Ð¾Ð´ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ñ‡Ñ‚Ð¾, Ð¿Ð¾ ÑÑƒÑ‰ÐµÑÑ‚Ð²Ñƒ, Ñ€Ð°Ð²Ð½Ð¾ÑÐ¸Ð»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸ÑŽ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ð·Ð°Ð¿Ð¸ÑÑŒ.

ÐŸÑ€Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð° `Active Record` Ð¾Ð±ÑŠÐµÐºÑ‚ ÐºÐ»Ð°ÑÑÐ° Ð´Ð¾Ð¼ÐµÐ½Ð° Ð¾ÑÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½ Ð¾ Ñ‚Ð¾Ð¼, ÐºÐ°Ðº Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð±Ð°Ð·Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ….

ÐŸÐ¾ Ð¼ÐµÑ€Ðµ ÑƒÑÐ»Ð¾Ð¶Ð½ÐµÐ½Ð¸Ñ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ¸ Ð¸ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ð°Ð½Ð¸Ñ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð±Ð¾Ð³Ð°Ñ‚Ð¾Ð¹ Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð½Ð¾Ð¹ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ñ‚Ð¸Ð¿Ð° `Active Record` Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‚ ÑÐ´Ð°Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸.

ÐŸÑ€Ð¸ Ñ€Ð°Ð·Ð½ÐµÑÐµÐ½Ð¸Ð¸ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ¸ Ð¿Ð¾ Ð²ÑÐµ Ð±Ð¾Ð»ÐµÐµ Ð¼ÐµÐ»ÐºÐ¸Ð¼ ÐºÐ»Ð°ÑÑÐ°Ð¼ Ð²Ð·Ð°Ð¸Ð¼Ð½Ð¾ Ð¾Ð´Ð½Ð¾Ð·Ð½Ð°Ñ‡Ð½Ð¾Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð¼ÐµÐ¶Ð´Ñƒ ÐºÐ»Ð°ÑÑÐ°Ð¼Ð¸ Ð´Ð¾Ð¼ÐµÐ½Ð° Ð¸ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°Ð¼Ð¸ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ Ñ‚ÐµÑ€ÑÐµÑ‚ÑÑ.

Ð¢Ð°Ðº, Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ *Ñ‚Ð¸Ð¿Ð° ÑˆÐ»ÑŽÐ·Ð°* ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ ÑƒÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹, Ð½Ð¾ Ð¾Ð½Ð¾ Ð²ÑÐµ ÐµÑ‰Ðµ Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð½Ð°Ñ Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒÑŽ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð½Ð¾Ð¹ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸, Ñ‚ÐµÑÐ½Ð¾ Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ð½Ð½Ð¾Ð¹ Ðº ÑÑ…ÐµÐ¼Ðµ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ….

Ð§ÐµÐ¼ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÐµÑ‚ÑÑ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¼Ð¸Ñ€ Ð¾Ñ‚ Ð¿Ñ€ÐµÐ´Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ "Ð¾Ð´Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ‡ÐºÐ° Ð² Ð‘Ð” â€” Ð¾Ð´Ð½Ð° ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð½Ð¾Ð¹ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸", Ñ‚ÐµÐ¼ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ñ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð¾Ð¼ `Active Record`.

ÐžÐ±ÑŠÐµÐºÑ‚, Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÑŽÑ‰Ð¸Ð¹ `Active Record`, Ð½Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð¸Ð¹ Ð½Ð¸ÐºÐ°ÐºÐ¾Ð¹ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ¸, Ð° Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÑŽÑ‰Ð¸Ð¹ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ Ð¸Ð· Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð¸Ð¼ÐµÐµÑ‚ Ð»Ð¸ÑˆÑŒ Ð¾Ð´Ð½Ñƒ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñƒ Ð´Ð»Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ (Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹), Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ñ€ÐµÑ‡Ð¸Ñ‚ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸ÐµÐ¼ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ð° `SRP`.

Ð­Ñ‚Ð¾ *Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ* Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ð¾ÑÐ¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ð¸ Ñ‚Ð°Ðº, Ð±ÑƒÐ´Ñ‚Ð¾, Ð½Ð°Ñ‡Ð°Ð² ÑÐ¾ *ÑˆÐ»ÑŽÐ·Ð° Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…*, Ð¼Ñ‹ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð»Ð¸ Ð² ÐºÐ»Ð°ÑÑ Ð¿Ð¾Ñ€Ñ†Ð¸ÑŽ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ¸.

```mermaid
classDiagram
    class RowDataGateway {
        # name String
        # data Double

        + insert()
        + update()
        + delete()
    }

    class ActiveRecord {
        # name String
        # data Double

        + insert()
        + update()
        + delete()

        + checkData()
        + isFlagged()
    }

    class DatabaseTable {
        name VARCHAR[255]
        data DOUBLE
    }

    ActiveRecord --|> RowDataGateway
    DatabaseTable <.. RowDataGateway
```

## Useful Links

- ÐŸÐ°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð² Ð´Ð°Ð½Ð½Ñ‹Ñ… // intellect.icu / URL: https://intellect.icu/patterny-organizatsii-istochnikov-dannykh-3317?ysclid=lq29894rnx531589066
- ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð·Ð´Ñ€Ð°Ð²Ñ‹Ð¹ ÑÐ¼Ñ‹ÑÐ» Ð²Ð°Ð¶Ð½ÐµÐµ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð¾Ð², Ð° Active Record Ð½Ðµ Ñ‚Ð°Ðº ÑƒÐ¶ Ð¸ Ð¿Ð»Ð¾Ñ… // Ð”Ð¾Ð¼ÐºÐ»Ð¸Ðº / URL: https://habr.com/ru/companies/domclick/articles/515560/
- ActiveRecord // Ð’Ð¸ÐºÐ¸Ð¿ÐµÐ´Ð¸Ð¯ / URL: https://ru.wikipedia.org/wiki/ActiveRecord
- Ð¤Ð¸Ð»Ð¾ÑÐ¾Ñ„Ð¸Ñ ActiveRecord // Lolka / URL: https://habr.com/ru/articles/11525/
- What is domain logic? // Stack Overflow / URL: https://stackoverflow.com/questions/360860/what-is-domain-logic